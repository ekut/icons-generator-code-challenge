# ============================================================================
# Backend Environment Variables
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Replicate API Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# The Replicate API token is used to authenticate with the Replicate API
# for AI image generation using the FLUX-schnell model.
#
# How to obtain:
# 1. Sign up at https://replicate.com/
# 2. Navigate to https://replicate.com/account/api-tokens
# 3. Create a new API token
# 4. Copy the token (starts with "r8_")
#
# For development/testing:
# - Use "mock-token-for-development" (all tests use mocks, no real API calls)
# - Local development can work with mock token if you implement mock mode
#
# For production:
# - Use your actual Replicate API token
# - Store securely using AWS Systems Manager Parameter Store (see below)
#
# Security Note: This token provides access to your Replicate account and
# incurs costs. Keep it secure and never expose it in client-side code.
REPLICATE_API_TOKEN=mock-token-for-development

# ----------------------------------------------------------------------------
# Serverless Framework Configuration (OPTIONAL)
# ----------------------------------------------------------------------------
# Only required if deploying via Serverless Framework Dashboard
# Get your key from https://app.serverless.com/
SERVERLESS_ACCESS_KEY=your-serverless-access-key-here

# ----------------------------------------------------------------------------
# Environment Configuration
# ----------------------------------------------------------------------------
# NODE_ENV: Set to "development" for local dev, "production" for deployed Lambda
NODE_ENV=development

# AWS_REGION: The AWS region where your Lambda functions will be deployed
# Common regions: us-east-1, us-west-2, eu-west-1, ap-southeast-1
AWS_REGION=us-east-1

# ============================================================================
# AWS Systems Manager Parameter Store (OPTIONAL - Production Best Practice)
# ============================================================================
#
# For production deployments, it's recommended to store sensitive values like
# REPLICATE_API_TOKEN in AWS Systems Manager Parameter Store instead of
# environment variables.
#
# Benefits:
# - Centralized secret management
# - Automatic encryption at rest
# - Access control via IAM policies
# - Audit logging of secret access
# - No secrets in deployment artifacts
#
# Setup Instructions:
#
# 1. Store the secret in Parameter Store:
#    aws ssm put-parameter \
#      --name "/icon-generator/replicate-api-token" \
#      --value "your-actual-token-here" \
#      --type "SecureString" \
#      --description "Replicate API token for icon generation"
#
# 2. Grant Lambda execution role permission to read the parameter:
#    Add this to your Lambda's IAM role policy:
#    {
#      "Effect": "Allow",
#      "Action": [
#        "ssm:GetParameter",
#        "ssm:GetParameters"
#      ],
#      "Resource": "arn:aws:ssm:REGION:ACCOUNT_ID:parameter/icon-generator/*"
#    }
#
# 3. Update serverless.yml to fetch the parameter:
#    provider:
#      environment:
#        REPLICATE_API_TOKEN: ${ssm:/icon-generator/replicate-api-token}
#
# 4. Or fetch at runtime in your Lambda code:
#    import { SSMClient, GetParameterCommand } from "@aws-sdk/client-ssm";
#    
#    const ssm = new SSMClient({ region: process.env.AWS_REGION });
#    const command = new GetParameterCommand({
#      Name: "/icon-generator/replicate-api-token",
#      WithDecryption: true
#    });
#    const response = await ssm.send(command);
#    const apiToken = response.Parameter?.Value;
#
# Alternative: AWS Secrets Manager
# For even more advanced secret management, consider AWS Secrets Manager:
# - Automatic secret rotation
# - Cross-region replication
# - Fine-grained access control
#
# Cost Comparison:
# - Parameter Store: Free for standard parameters, $0.05 per advanced parameter/month
# - Secrets Manager: $0.40 per secret/month + $0.05 per 10,000 API calls
#
# ============================================================================
